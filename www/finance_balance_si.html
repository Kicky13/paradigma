<!DOCTYPE html>
<html>
<head>
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <link rel="stylesheet" href="fontA/css/font-awesome.min.css">
    <meta name="viewport"
          content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/slick.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-markdown.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="slick.css"/>
    <link rel="stylesheet" type="text/css" href="slick-theme.css"/>
    <link rel="stylesheet" type="text/css" href="css/production.css">
    <link rel="stylesheet" type="text/css" href="css/waitMe.min.css">
    <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="js/waitMe.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/sidenav.css">

    <script src="js/phase2/sidenav.min.js"></script>
    <script src="js/Session.js"></script>

    <script type="text/javascript" src="js/bootstrap.js"></script>
    <script type="text/javascript" src="js/accounting.min.js"></script>
    <script type="text/javascript" src="js/JsNumberFormat.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script src="js/highstock.js"></script>

    <script src="js/loader.js"></script>
    <script src="js/paradigma.js"></script>
    <script src="js/highcharts-3d.js"></script>
    <script src="js/exporting.js"></script>
    <!-- <script src="js/balance_s.js"></script> -->
    <script type="text/javascript" src="js/moment.min.js"></script>
    <!--   <script src="https://code.highcharts.com/highcharts.js"></script>
      <script src="https://code.highcharts.com/modules/exporting.js"></script> -->
    <script type="text/javascript" charset="utf-8">

        function exitApps() {
            navigator.app.exitApp();
        }
        function exitApps() {
            navigator.app.exitApp();
        }
        // $(function () {
        //     $('.regular').html(add_footer('balance_semen'));
        // })
        function onLoad() {
            var session = getParamFull();
            ////=========================
            if (sessionStorage.getItem('_com') != 'ALL') {
                $.each(listTab, function (index, el) {
                    $('#tab-' + el + ' a').removeAttr('href');
                    $('#tab-' + el + ' a').removeAttr('rel');
                })
            }
            ////=========================
            $(".burger-menu").click(function (e) {
                if ($(this).hasClass("is-active")) {
                    $(this).removeClass("is-active");
                    $("#content").removeClass("slideMenu");
                    $("#content").addClass("closeMenu");
                } else {
                    $(this).addClass("is-active");
                    $("#content").removeClass("closeMenu");
                    $("#content").addClass("slideMenu");
                }
            });
            setParam('7000', bulanSekarang, tahun);
            $('.last-update').html('Last Update : ' + today);

            $('a[href="#tab-click"]').click(function (e) {
                e.preventDefault();
                var r = $(this).attr('rel');
                if (r == 'data-bs') {
                    $('#data-bs').removeClass('hidden');
                    $('#data-ratio').addClass('hidden');
                    $('#tab-bs').addClass('act_tb');
                    $('#tab-ratio').removeClass('act_tb');
                } else if (r == 'data-ratio') {
                    $('#data-bs').addClass('hidden');
                    $('#data-ratio').removeClass('hidden');
                    $('#tab-bs').removeClass('act_tb');
                    $('#tab-ratio').addClass('act_tb');

                }
            });
            $('.tab-click').click(function (e) {
                e.preventDefault();
                $('.slick-track > div').addClass('img_foot2');
                $(this).removeClass('img_foot2');
                location.reload();
                var r = $(this).attr('rel');
                if (r == 'data-sp') {
                    window.location.href = 'finance_balance_sp.html';
                } else if (r == 'data-sg') {
                    window.location.href = 'finance_balance_sg.html';
                } else if (r == 'data-smi') {
                    window.location.href = 'finance_balance_si.html';
                } else if (r == 'data-st') {
                    window.location.href = 'finance_balance_st.html';
                } else if (r == 'data-tl') {
                    window.location.href = 'finance_balance_tl.html';
                } 
            });

            
            $(document).on('click', '.gauge', function (e) {
                e.preventDefault();
                var r = $(this).attr('target');
                window.location.href = 'backlog_detail.html?i=' + r;
            })

            $('.selmonth').empty();
            $('.selyear').empty();
            var opt_year;
            var x;
            for (x = Number(paradigma.date('now', 'year')); x > 2014; x--) {
                if (x == tahun) {
                    opt_year += '<option value="' + x + '" selected="selected">' + x + '</option>';
                } else {
                    opt_year += '<option value="' + x + '">' + x + '</option>';
                }
            }
            $('.selyear').html(opt_year);
            var opt_month;
            $.each(month, function (key, val) {
                if (key + 1 <= 12) {
                    if ((key + 1) < 10) {
                        var v = '0' + (key + 1);
                    } else {
                        var v = key + 1;
                    }
                    if ((key + 1) == bulanSekarang) {
                        opt_month += '<option value="' + v + '" selected="selected">' + val + '</option>';
                    } else {
                        opt_month += '<option value="' + v + '">' + val + '</option>';
                    }
                }

            })
            $('.selmonth').html(opt_month);
            $(".head-menu").scrollLeft(600);
        }
        var d = new Date();
        var month = new Array();
        month[0] = "January";
        month[1] = "February";
        month[2] = "March";
        month[3] = "April";
        month[4] = "May";
        month[5] = "June";
        month[6] = "July";
        month[7] = "August";
        month[8] = "September";
        month[9] = "October";
        month[10] = "November";
        month[11] = "December";
        var bulan = month[d.getMonth()];
        var bulanSekarang = paradigma.date('now', 'month');
        var tahun = d.getFullYear();
        console.log(bulanSekarang);
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!
        var yyyy = today.getFullYear();

        if (dd < 10) {
            dd = '0' + dd
        }

        if (mm < 10) {
            mm = '0' + mm
        }

        today = dd + '/' + mm + '/' + yyyy;
        $('.selmonth').change(function () {
            bulanSekarang = $(this).val();
            tahun = $('.selyear').val();

            balance_data(bulanSekarang, opco, tahun);

        });
        $('.selyear').change(function () {
            tahun = $(this).val();
            bulanSekarang = $('.selmonth').val();
            var t = $(this).attr('rel');
            balance_data(bulanSekarang, opco, tahun);
        })


    </script>
    <script>

        $(function () {
            var tmp = getParam();
            var opco = (getParam('opco') != 'null') ? getParam('opco') : 7000;
            bulanSekarang = (getParam('bln') != 'null') ? getParam('bln') : (bulanSekarang);
            tahun = (getParam('thn') != 'null') ? getParam('thn') : tahun;

            if (opco == 5000) {
                $('#head_log').text('SEMEN GRESIK');

                $('#tab-sg').removeClass('img_foot2');
                $('#tab-sp').addClass('img_foot2');
                $('#tab-si').addClass('img_foot2');
                $('#tab-st').addClass('img_foot2');
                $('#tab-tl').addClass('img_foot2');
            } else if (opco == 3000) {
                $('#head_log').text('SEMEN PADANG');

                $('#tab-sp').removeClass('img_foot2');
                $('#tab-si').addClass('img_foot2');
                $('#tab-sg').addClass('img_foot2');
                $('#tab-st').addClass('img_foot2');
                $('#tab-tl').addClass('img_foot2');
            }
            if (opco == 4000) {
                $('#head_log').text('SEMEN TONASA');

                $('#tab-st').removeClass('img_foot2');
                $('#tab-sp').addClass('img_foot2');
                $('#tab-sg').addClass('img_foot2');
                $('#tab-si').addClass('img_foot2');
                $('#tab-tl').addClass('img_foot2');
            }
            if (opco == 6000) {
                $('#head_log').text('THANG LONG');

                $('#tab-tl').removeClass('img_foot2');
                $('#tab-sp').addClass('img_foot2');
                $('#tab-sg').addClass('img_foot2');
                $('#tab-st').addClass('img_foot2');
                $('#tab-si').addClass('img_foot2');
            }
            if (opco == 7000) {
                $('#head_log').text('SEMEN INDONESIA');

                $('#tab-si').removeClass('img_foot2');
                $('#tab-sp').addClass('img_foot2');
                $('#tab-sg').addClass('img_foot2');
                $('#tab-st').addClass('img_foot2');
                $('#tab-tl').addClass('img_foot2');
            }


            if (bulanSekarang == 0) {
                bulanSekarang = '12';
                tahun = tahun - 1;
                balance_data(bulanSekarang, opco, tahun);

            } else {
                balance_data(bulanSekarang, opco, tahun);
            }

            $('.selmonth').change(function () {
                bulanSekarang = $(this).val();
                tahun = $('.selyear').val();

                balance_data(bulanSekarang, opco, tahun);

            });
            $('.selyear').change(function () {
                tahun = $(this).val();
                bulanSekarang = $('.selmonth').val();
                var t = $(this).attr('rel');
                balance_data(bulanSekarang, opco, tahun);
            })

        })
    </script>
    <style>
        .img_foot2 {
            filter: gray; /* IE6-9 */
            filter: grayscale(100%); /* Microsoft Edge and Firefox 35+ */
            -webkit-filter: grayscale(100%); /* Google Chrome, Safari 6+ & Opera 15+ */
        }

        .tab_syle {
            color: #666666;
            font-size: 12px;
            border: none;
            /* padding-left: 8px; */
            margin-left: 3px;
        }

        .font-category {
            font-size: 12px;
        }

        .overflowing {
            /*width: 30em;*/
            overflow-x: auto;
            white-space: nowrap;
        }

        .no-js #loader {
            display: none;
        }

        .js #loader {
            display: block;
            position: absolute;
            left: 100px;
            top: 0;
        }

        .se-pre-con {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background: url(loader/images/loader-128x/Preloader_2.gif) center no-repeat #fff;
        }

        .collapse.in {
            display: block;
        }

        tr.collapse.in {
            display: table-row;
        }

        .num {
            text-align: right;
        }

        .inex {
            font-size: 18px;
            font-weight: bold;
        }

        .titl {
            background-color: #e54b37;
            padding: 9px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.59);
            font-size: 12px;
            margin-bottom: 0px;
            border-radius: 3px 3px 0px 0px;

        }

        .boxf {
            /* background-color: #e54b37; */
            padding: 0px;
            margin-bottom: 3px;
            display: inline-block;
            max-width: 100%;
            height: auto;
            /* margin: auto; */
            min-height: 209px;
            /* border-radius: 8px; */
            /* margin-right: 1px; */
            border: 1px solid rgb(197, 197, 197, 0.7);
            /*-webkit-box-shadow: 0px 0px 36px 0px rgba(240,240,240,1);
            -moz-box-shadow: 0px 0px 36px 0px rgba(240,240,240,1);
            box-shadow: 0px 0px 36px 0px rgba(240,240,240,1);
            border-right: 1px solid #b6b6b6;*/
        }

        .bagan:hover, .bagan:visited {
            opacity: 0.6;
        }

        .titab {
            font-weight: 500;
            color: white;
            display: inline-block;
            font-size: 12px;
            margin-bottom: 8px;
        }

        .lyear {
            color: black;
            font-size: 16px;
            padding-left: 10px;
            border-left: 3px solid #e54b37;
        }

        .ryear {
            color: black;
            font-size: 16px;
            padding-right: 10px;
            border-right: 3px solid #e54b37;
        }

        .jud {
            color: #000000;
            font-size: 18px;
            font-weight: 600;
            margin-top: 13px;
            display: inline-block;
        }

        /*.til{
            padding-bottom: 1px;
        border-bottom: 1px solid #b6b6b6;
        background-color: ghostwhite;
        }*/
        .label-success {
            background-color: #5cb85c;
            border: 1.5px solid white;
        }

        .label-danger {
            background-color: #d9534f;
            border: 1.5px solid white;
        }

        .subox {
            height: 137px;
            border-bottom: 3px solid #e54b37;
        }

        .subox2 {
            height: 137px;
            border-bottom: 3px solid #626262;
        }

        .hijau {
            color: #669966;
        }

        .merah {
            color: #DC0033;
        }

        .float_bgg {
            /*display: inline-block;*/
            max-width: 100%;
            height: auto;
            padding: 4px 12px;;
            line-height: 1.42857143;
            background-color: #fff;
            /*border: 1px solid #e54b37;*/
            border-radius: 0px 0px 6px 6px;
            -webkit-transition: all .2s ease-in-out;
            -o-transition: all .2s ease-in-out;
            transition: all .2s ease-in-out;
        }

        .htittle {
            margin: 0px;
            border-radius: 6px 6px 0px 0px;
            background-color: #e54b37;
            height: 27px;
            text-align: left;
            font-size: 14px;
            padding: 5px 0px 4px 9px;
        }

        .no-text-style, .no-text-style:hover {
            text-decoration: none;
            color: #000;
        }

        .default_tab {
            height: 41px;
            background: rgba(255, 255, 255, 1);
            background: -moz-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(245, 245, 245, 1) 100%);
            background: -webkit-gradient(left top, left bottom, color-stop(0%, rgba(255, 255, 255, 1)), color-stop(100%, rgba(245, 245, 245, 1)));
            background: -webkit-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(245, 245, 245, 1) 100%);
            background: -o-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(245, 245, 245, 1) 100%);
            background: -ms-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(245, 245, 245, 1) 100%);
            background: linear-gradient(to bottom, rgba(255, 255, 255, 1) 0%, rgba(245, 245, 245, 1) 100%);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#f5f5f5', GradientType=0);
        }

        .tx_tab {
            margin-top: 5px;
            color: #525252;
            display: inline-block;
            font-size: 15px;
        }

        .tab_tittle {
            font-family: "Open Sans";
            margin-bottom: 2px;
            font-size: 27px;
            margin-top: 0px;
            font-weight: 300;
        }

        .one_tit {
            border: 1px solid #e9e9e9;
            height: 29px;
            display: block;
            width: 100%;
            color: #797979;
            text-align: center;
            font: normal 16px;
            background: rgba(255, 255, 255, 1);
            background: -moz-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(246, 246, 246, 1) 47%, rgba(237, 237, 237, 1) 100%);
            background: -webkit-gradient(left top, left bottom, color-stop(0%, rgba(255, 255, 255, 1)), color-stop(47%, rgba(246, 246, 246, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            background: -webkit-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(246, 246, 246, 1) 47%, rgba(237, 237, 237, 1) 100%);
            background: -o-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(246, 246, 246, 1) 47%, rgba(237, 237, 237, 1) 100%);
            background: -ms-linear-gradient(top, rgba(255, 255, 255, 1) 0%, rgba(246, 246, 246, 1) 47%, rgba(237, 237, 237, 1) 100%);
            background: linear-gradient(to bottom, rgba(255, 255, 255, 1) 0%, rgba(246, 246, 246, 1) 47%, rgba(237, 237, 237, 1) 100%);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#ededed', GradientType=0);
        }

        .dettext {
            color: #1964bf;
            font-size: 19px;
        }

        .clmargin {
            margin-top: 12px;
        }

        .up_dettext {
            font-size: 12px;
            font-weight: 300;
            color: black;
        }

        .borblue {
            border-bottom: 2px solid rgb(144, 208, 244);
        }

        .center {
            text-align: center;
        }

        footer .col-ft-3 {
            width: 16.8%;
        }

        footer #tab-smi img {
            width: 37% !important;
        }
    </style>
    <script src="js/modernizr.js"></script>
    <script>
        //paste this code under head tag or in a seperate js file.
        // Wait for window load
        $(window).load(function () {
            // Animate loader off screen
            $(".se-pre-con").fadeOut("slow");


        });
    </script>
    <title>Finance Performance</title>
</head>
<body onLoad="onLoad()">
<div class="app">
    <div id="deviceready">
        <div id="backdrop"></div>
        <!-- Paste this code after body tag -->
        <div class="se-pre-con"></div>
        <!-- Ends -->
        <div id="sidenav">
            <div class="header">
                <div class="avatar"><img src="img/ic-user.png"><span id="usernames"></span></div>
            </div>
            <div>
                <ul>
                    <li><a href="index.html"><img src="img/sidebar/home.png">&nbsp;&nbsp;HOME</a></li>
                    <li><a href="prod_report_st.html"><img src="img/sidebar/production.png">&nbsp;&nbsp;PRODUCTION</a></li>
                    <li><a href="sales_dashboard.html"><img src="img/sidebar/sales.png">&nbsp;&nbsp;SALES</a></li>
                    <li><a href=" scm_ms_sg.html"><img src="img/sidebar/scm.png">&nbsp;&nbsp;SCM</a></li>
                    <li><a href="treasury_cp.html#5000"><img src="img/sidebar/treasury.png">&nbsp;&nbsp;TREASURY</a></li>
                    <li><a href="#" class="active"><img src="img/sidebar/finance.png">&nbsp;&nbsp;FINANCE</a></li>
                    <li><a href="inventory_sg.html"><img src="img/sidebar/inventory.png">&nbsp;&nbsp;INVENTORY</a></li>
                    <li><a href="maint_inspection_sg.html"><img src="img/sidebar/maintenance.png">&nbsp;&nbsp;MAINTENANCE</a></li>
                    <li><a href="project_coe_proj.html"><img src="img/sidebar/project.png">&nbsp;&nbsp;PROJECT</a></li>
                    <li><a href="quality_siramah.html"><img src="img/sidebar/quality.png">&nbsp;&nbsp;QUALITY MANAGEMENT</a></li>
                    </ul>
                </div>
                <div class="footer">
                    <div>
                        <ul>
                            <li><a onclick="window.location.reload(true);"><img src="img/sidebar/about.png">&nbsp;&nbsp;ABOUT</a>
                            <li><a href="#" id="logout"><img src="img/sidebar/logout.png">&nbsp;&nbsp;LOGOUT</a>
                        </ul>
                    </div>
                </div>
        </div>
        <div id="content" style="background:#f5f5f5;">
            <header id="header">
                <button class="burger-menu burger-menu-x" id="menu-toggle">
                    <span>toggle menu</span>
                </button>
                <b class="logopis">BALANCE SHEET</b>
                    <a class="logo" href="index.html"><img src="img/logo.png"></a>
            </header>
            <div class="wrapper">
                <div class="head-menu">
                        <ul>
                            <li><a href="finance_prod_si.html">PRODUCTION</a></li>
                            <li><a href="finance_sales_si.html">SALES</a></li>
                            <li><a href="finance_mbalance_st.html">MATERIAL BALANCE</a></li>
                            <li style="display:none"><a onclick="goto_opco('p2_cost_sheet', 'p2_cost_sheet')">COST SHEET</a></li>
                            <li><a href="finance_cost_si.html">COST STRUCTURE</a></li>
                            <li><a href="finance_perform_dash.html">CORP. PERFORMANCE</a></li>
                            <li><a class="active">BALANCE SHEET</a></li>
                            <li><a href="finance_receive_si.html">RECEIVABLES MNGT</a></li>
                        </ul>
                </div>
                <div class="spacer-menu"></div>
                <div class=" headsix2 cubesRun2 headone whitebg" style="min-height: 100px">
                    <div align="center">
                        <img src="img/teks semen indo.png" class="imgsi" style="padding-top: 12px;width: 131px; margin: 0;">
                        <p class="prodtittle" id="head_log" style="font-weight: 600; font-size: 23px;display: inline-block;float: none; margin-bottom: 12px">SEMEN</p>
                        <center>
                            Bulan : <select id="month" class="selmonth" rel="vol"></select>
                            Tahun : <select id="year" class="selyear"></select>
                        </center>
                        <center>
                            <i class="fa fa-clock-o" aria-hidden="true"></i> <span class="last-update upercent"></span>
                        </center>
                    </div>
                </div>
                <div class="col-xs-12 tab_dual" style="margin-top: 12px">
                    <div class="col-xs-12 bg_rds">

                        <a href="#tab-click" rel="data-bs" class="no-text-style">
                            <div id="tab-bs" class="col-xs-6 center zero_padd left_tb act_tb ">
                                <span class="tx_tab">Balance Sheet</span>
                            </div>
                        </a>

                        <a href="#tab-click" rel="data-ratio" class="no-text-style">
                            <div id="tab-ratio" class="col-xs-6 center zero_padd left_tb ">
                                <span class="tx_tab">Financial Ratio</span>
                            </div>
                        </a>
                    </div>
                </div>


                <div class="headsix add_fix cubesRun2" style="margin-bottom: 110px; min-height: 1218px;">
                    <div id="data-bs">
                        <center>
                            <span style="color:black">in IDR Bio</span>

                        </center>
                        <div align="center" style="margin-bottom: 10px; margin-top:10px;">
                            <a onclick="nextPage(bulanSekarang, tahun)" rel="asset" class="bagan">
                                <div class="col-xs-6 boxf noPadding">

                                    <div class="col-xs-12" style="padding: 2px;">
                                        <h4 class="htittle"><span id="tag_current_balance"></span></h4>
                                        <div class="float_bgg">

                                            <div align="center " style="margin-bottom:12px;">

                                                <div class="col-xs-12 " align="center">
                                                </div>

                                                <div class="col-xs-12 noPadding" align="left">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Assets</span><br>
                                                    <span style="color:#a01d1d; font-size: 22px"
                                                          id="curr_asset">0</span><br>
                                                </div>
                                                <div class="col-xs-12 noPadding" align="left">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Liabilities</span><br>
                                                    <span style="color:black;" id="curr_liab">0</span><br>
                                                </div>
                                                <div class="col-xs-12 noPadding" align="left">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Equity</span><br>
                                                    <span style="color:black;" id="curr_equ">0</span><br>
                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>

                            <!-- ########### Cement Up to ############-->

                            <a href="#" rel="asset" class="bagan">
                                <div class="col-xs-6 boxf noPadding">

                                    <div class="col-xs-12" style="padding: 2px;">
                                        <h4 class="htittle"
                                            style="background-color: #e54b37; text-align: right;    padding: 5px 9px 4px 9px;">
                                            <span id="tag_last_balance">...</span></h4>
                                        <div class="float_bgg" style="">

                                            <div align="center " style="margin-bottom:12px;">

                                                <div class="col-xs-12 " align="center">
                                                </div>

                                                <div class="col-xs-12 noPadding" align="right">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Assets</span><br>
                                                    <span style="color:#a01d1d; font-size: 22px"
                                                          id="last_asset">0</span><br>
                                                </div>
                                                <div class="col-xs-12 noPadding" align="right">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Liabilities</span><br>
                                                    <span style="color:black;" id="last_liab">0</span><br>
                                                </div>
                                                <div class="col-xs-12 noPadding" align="right">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Equity</span><br>
                                                    <span style="color:black;" id="last_equ">0</span><br>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <a href="#" rel="asset" class="bagan">
                                <div class="col-xs-12 boxf noPadding" style="min-height: 121px">

                                    <div class="col-xs-12" style="padding: 2px;">
                                        <h4 class="htittle" style="background-color: #9c9c9c;"><span
                                                id="tag_past_balance">...</span><i class="fa fa-bars" aria-hidden="true"
                                                                                   style="float:right;padding-right: 12px;"></i>
                                        </h4>
                                        <div class="float_bgg">

                                            <div align="center " style="margin-bottom:12px;">

                                                <div class="col-xs-12 " align="center">
                                                </div>

                                                <div class="col-xs-6 noPadding" align="left">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Assets</span><br>
                                                    <span style="color:#a01d1d; font-size: 25px"
                                                          id="past_asset">0</span><br>


                                                </div>
                                                <div class="col-xs-6 noPadding" align="right">
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Liabilities</span><br>
                                                    <span style="color:black;" id="past_liab">0</span><br>
                                                    <span style="font-size: 12px; font-weight: 300; color:black;">Equity</span><br>
                                                    <span style="color:black;" id="past_equ">0</span><br>


                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>

                            <!-- ########### Cement Up to ############-->


                            <!-- last years -->
                            <div class="col-xs-12" style="padding: 0px">
                                <div class="col-xs-6" align="left" style="padding: 0px; margin: 15px 0px 15px 0px;">
                                    <i class="fa fa-pie-chart" aria-hidden="true"
                                       style="    font-size: 16px; color: #e54b37;"></i>
                                    <span style="color: #4d4d4d; font-size: 15px" id="tag_chart_curr"> ...</span>
                                    <div id="donut1" style="width:100%; height: 300px;  margin: 0 auto; "></div>
                                </div>
                                <!-- ########### Cement ############-->

                                <div class="col-xs-6" align="left"
                                     style="padding: 0px; margin: 15px 0px 15px 0px;     border-left: 1px solid #bdbdbd;">
                                    &nbsp;<i class="fa fa-pie-chart" aria-hidden="true"
                                             style="font-size: 16px; color: #e54b37; padding-left: 6px"></i>
                                    <span style="color: #4d4d4d; font-size: 15px" id="tag_chart_past"> ...</span>

                                    <div id="donut2" style="height: 300px;  margin: 0 auto"></div>
                                </div>
                            </div>

                            <div class="col-xs-12" align="left" style="    margin: 15px 0px 15px 0px;">
                                <i class="fa fa-bar-chart" aria-hidden="true"
                                   style="    font-size: 16px; color: #e54b37;"></i>
                                <span style="color: #4d4d4d; font-size: 16px"> &nbsp; Trend Comparation</span>
                            </div>

                            <div id="line" style="float:left;width:100%; height: 300px; margin: 0 auto; margin-bottom: 40px;"></div>

                            <br>
                            <div align="left">
                                <p style="color:black;font-size: 23px; padding-left: 9px;">&nbsp;</p>
                            </div>

                        </div>
                    </div>
                    <div id="data-ratio" class="hidden">
                        <a href="#" rel="asset" class="bagan">
                            <div class="col-xs-12 boxf noPadding" style="min-height: 104px; margin-top: 26px;">

                                <div class="col-xs-12" style="padding: 2px;">
                                    <h4 class="htittle" style="background-color: #ec1b4b; color: white;">Short Term
                                        Finance Position<i class="fa fa-bars" aria-hidden="true"
                                                           style="float:right;padding-right: 12px;"></i></h4>
                                    <div class="float_bgg">

                                        <div align="center " style="margin-bottom:12px;">

                                            <div class="col-xs-12 col-sm-12 " align="center">
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                <span class="up_dettext">Current Ratio</span><br>
                                                <span class="dettext" id="curr_rat">0 </span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                <span class="up_dettext">Quick Ratio</span><br>
                                                <span class="dettext" id="Quick_rat">0 </span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                <span class="up_dettext">Cash Ratio</span><br>
                                                <span class="dettext" id="cash_rat"> </span><span
                                                    class="dettext">%</span><br>


                                            </div>
                                            <div class="col-xs-12 noPadding" align="center">&nbsp;</div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>

                        <a href="#" rel="asset" class="bagan">
                            <div class="col-xs-12 boxf noPadding" style="min-height: 104px; margin-top: 8px;">

                                <div class="col-xs-12 col-sm-12" style="padding: 2px;">
                                    <h4 class="htittle" style="background-color: #ec1b4b; color: white;">Structure of
                                        Current Assets<i class="fa fa-bars" aria-hidden="true"
                                                         style="float:right;padding-right: 12px;"></i></h4>
                                    <div class="float_bgg">

                                        <!-- <div align="center " style="margin-bottom:12px;"> -->


                                        <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                     <span class="up_dettext">Cash and cash equivalents
                                                    </span><br>
                                            <span class="dettext" id="cash_equ">0 </span><span
                                                class="dettext">%</span><br>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                            <span class="up_dettext">Short-Term<br> Investment</span><br>
                                            <span class="dettext" id="Inventori">0 </span><span class="dettext">%</span><br>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                            <span class="up_dettext">Trade accounts receivable</span><br>
                                            <span class="dettext" id="trade_acc">0 </span><span class="dettext">%</span><br>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 noPadding clmargin" align="center">
                                            <span class="up_dettext">Inventory</span><br>
                                            <span class="dettext" id="inventori">0 </span><span class="dettext">%</span><br>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 noPadding clmargin" align="center">
                                            <span class="up_dettext">Others Assets</span><br>
                                            <span class="dettext" id="other_asset">0 </span><span
                                                class="dettext">%</span><br>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                            <span class="up_dettext">&nbsp;</span><br>
                                            <span class="dettext" id="">&nbsp;</span><br>
                                        </div>


                                        <!-- </div> -->
                                    </div>
                                </div>
                            </div>
                        </a>

                        <a href="#" rel="asset" class="bagan">
                            <div class="col-xs-12 boxf noPadding" style="min-height: 104px; margin-top: 8px;">

                                <div class="col-xs-12" style="padding: 2px;">
                                    <h4 class="htittle" style="background-color: #ec1b4b; color: white;">Long-Term
                                        Financial Position<i class="fa fa-bars" aria-hidden="true"
                                                             style="float:right;padding-right: 12px;"></i></h4>
                                    <div class="float_bgg">

                                        <div align="center " style="margin-bottom:12px;">

                                            <div class="col-xs-12 " align="center">
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                <span class="up_dettext">Total Debt To <br>Equity</span><br>
                                                <span class="dettext" id="total_dte">0 </span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                         <span class="up_dettext">Total Debt To Total Asset
                                        </span><br>
                                                <span class="dettext" id="total_dta">0 </span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                        <span class="up_dettext">Tangible Assets Debt Coverage
                                            </span><br>

                                                <span class="dettext" id="tadc">0 </span><span
                                                    class="dettext">%</span><br>
                                            </div>
                                            <!--    <div class="col-xs-12 col-sm-12 noPadding" align="center">
                                             <span class="up_dettext">&nbsp;</span><br>
                                             <span class="dettext" id="">&nbsp;</span><br>
                                             </div> -->

                                            <div class="col-xs-4 col-sm-4 noPadding clmargin" align="center">
                                         <span class="up_dettext">Time Interest <br>Earned Ratio
                                        </span><br>
                                                <span class="dettext" id="tier">0 </span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding clmargin" align="center">
                                         <span class="up_dettext">Debt Equity <br>Ratio
                                        </span><br>
                                                <span class="dettext" id="debt_equ_rat">0 </span><span
                                                    class="dettext">%</span><br>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>

                        <a href="#" rel="asset" class="bagan">
                            <div class="col-xs-12 boxf noPadding" style="min-height: 104px; margin-top: 8px;">

                                <div class="col-xs-12" style="padding: 2px;">
                                    <h4 class="htittle" style="background-color: #ec1b4b; color: white;">Position of
                                        Business Assets<i class="fa fa-bars" aria-hidden="true"
                                                          style="float:right;padding-right: 12px;"></i></h4>
                                    <div class="float_bgg">

                                        <div align="center " style="margin-bottom:12px;">

                                            <div class="col-xs-12 " align="center">
                                            </div>

                                            <div class="col-xs-6 noPadding" align="center">
                                                <span class="up_dettext">Inventory Turnover (days)</span><br>
                                                <span class="dettext" id="inven_t">0 </span><br>
                                            </div>

                                            <!--  <div class="col-xs-6 noPadding" align="center">
                                              <span class="up_dettext">Receivable Turnover (days)</span><br>
                                             <span class="dettext" id="recieve_t">0 </span><br>
                                             </div> -->

                                            <div class="col-xs-12 noPadding" align="center">&nbsp;</div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>

                        <a href="#" rel="asset" class="bagan">
                            <div class="col-xs-12 boxf noPadding"
                                 style="min-height: 104px; margin-top: 8px;     margin-bottom: 23px;">

                                <div class="col-xs-12" style="padding: 2px;">
                                    <h4 class="htittle" style="background-color: #ec1b4b; color: white;">Position
                                        Results of Operations<i class="fa fa-bars" aria-hidden="true"
                                                                style="float:right;padding-right: 12px;"></i></h4>
                                    <div class="float_bgg">

                                        <div align="center " style="margin-bottom:12px;">

                                            <div class="col-xs-12 " align="center">
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                <span class="up_dettext">R.O.A</span><br>
                                                <span class="dettext" id="roa">0 %</span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                <span class="up_dettext">R.O.E</span><br>
                                                <span class="dettext" id="roe">0 %</span><span
                                                    class="dettext">%</span><br>
                                            </div>
                                            <!--  <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                              <span class="up_dettext">Cost ratio</span><br>
                                             <span class="dettext" id="cost_rat">0 %</span><span class="dettext">%</span><br>
                                             </div> -->
                                            <!-- <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                            <span class="up_dettext">&nbsp;</span><br>
                                            <span class="dettext" id="">&nbsp;</span><br>
                                            </div> -->
                                            <div class="col-xs-4 col-sm-4 noPadding " align="center">
                                                <span class="up_dettext">EBITDA Margin</span><br>
                                                <span class="dettext" id="ebitda_margin">0 %</span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding clmargin" align="center">
                                                <span class="up_dettext">Interest Coverage Ratio</span><br>
                                                <span class="dettext" id="int_cov_rat">0 %</span><span
                                                    class="dettext">%</span><br>
                                            </div>

                                            <div class="col-xs-4 col-sm-4 noPadding" align="center">
                                                <span class="up_dettext">&nbsp;</span><br>
                                                <span class="dettext" id="">&nbsp;</span><br>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                </div>


                <footer>
                <div class="regular">
                    <div id="tab-sp" class="col-xs-3 noPadding tab_uper col-ft-3 tab-click img_foot2"  rel="data-sp" align="center" style="margin-top: 7px;">
                        <a href="#tab-click" rel="data-sp" ><img src="img/cement/sp.png" style="width:48%;"/></a>
                    </div>
                    <div id="tab-sg" class="col-xs-3 noPadding tab_uper col-ft-3 tab-click img_foot2"  rel="data-sg" align="center" style="margin-top: 7px;">
                        <a href="#tab-click" rel="data-sg" ><img src="img/cement/sg.png" style="width:48%;"/></a>
                    </div>
                    <div id="tab-si" class="col-xs-3 noPadding tab_uper col-ft-3 tab-click"  rel="data-smi" align="center" style="margin-top: 7px;">
                        <a href="#tab-click" rel="data-si" ><img src="img/cement/si.png" style="width:48%;"/></a>
                    </div>
                    <div id="tab-st" class="col-xs-3 noPadding tab_uper col-ft-3 tab-click img_foot2"  rel="data-st" align="center" style="margin-top: 7px;">
                        <a href="#tab-click" rel="data-st" ><img src="img/cement/st.png" style="width:48%;"/></a>
                    </div>
                    <div id="tab-tl" class="col-xs-3 noPadding col-ft-3 tab-click img_foot2"  rel="data-tl" align="center" style="margin-top: 7px;">
                        <a href="#tab-click" rel="data-tl" ><img src="img/cement/tl.png" style="width:48%;"/></a>
                    </div>
                </div>
            </footer>

            </div>
        </div>
    </div>
    <script>

        $(function () {
            Highcharts.chart('line', {
                title: {
                    text: ''
                },

                xAxis: {
                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                        'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                },
                yAxis: {
                    title: {
                        text: ''
                    },
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#808080'
                    }]
                },
                tooltip: {
                    valueSuffix: ' T'
                },
                legend: {
                    borderWidth: 0,
                    layout: 'horizontal',
                    align: 'center',
                    verticalAlign: 'bottom',
                    x: 0,
                    y: 0,
                    backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
                    //shadow: true
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'Current',
                    data: [2, 4, 7, 15, 3, 10, 1, 9, null, 12, 7, 6,],
                    color: '#EF4836',
                    type: 'spline'
                }, {
                    name: 'Dec last Year',
                    data: [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
                    color: '#E9D460',
                    type: 'spline'
                }]
            });

        });


        function balance_data(bulan, opco, year) {
            var tag_bln = bulan - 1;
            var bln = Number(bulan) + 1;
            var tag_last_bln = tag_bln;
            if (tag_last_bln == 0) {
                tag_last_bln = 12;
            }
            // console.log(bulan+'-'+tag_last_bln);
            console.log(bulan + '-' + tag_bln + '-' + tag_last_bln + '-' + bln);

            run_waitMe('.headsix add_fix', 'ios');
            sessionStorage.setItem('com', opco);
            var param = (opco != 'SMI') ? '&company=' + opco : '';
            var nowdate = moment();
            $('#tag_current_month').html(month[tag_bln]);
            $('#tag_current_balance').html(month[tag_bln]);
            $('#tag_last_balance').html(month[tag_last_bln - 1]);
            $('#tag_past_balance').html(month[11] + ' ' + (tahun - 1));
            $('#tag_chart_curr').html(month[tag_bln]);
            console.log(tag_last_bln);
            console.log(month[tag_last_bln]);
            $('#tag_chart_past').html(month[tag_last_bln - 1]);
            // $.post(url_src+'/api/index.php/Project', function(data){
            // if (sessionStorage.getItem('balance_data'+bulan)==null) {
            $.post(url_src + '/api/index.php/balance_report?bulan=' + bulan + '&tahun=' + tahun + param, function (data) {
                // sessionStorage.setItem('balance_data'+bulan, data);
                sessionStorage.setItem('last_balance_data', moment().format('MM/DD/YYYY HH:mm'));
                var dataJson = JSON.parse(data);

                tagHtmlBalanceSheet(dataJson);
                console.log(dataJson);


                dataLineChart(year, bulan, opco);

            });


            // }else {
            //   var data = sessionStorage.getItem('balance_data'+bulan);
            //   var dataJson  = JSON.parse(data);

            //     tagHtmlBalanceSheet(dataJson);
            //     console.log(dataJson);

            //     dataLineChart(bulan, opco);

            //   // company_balance(bulan);
            // }


        }

        function tagHtmlBalanceSheet(dataJson) {

            $.each(dataJson.ratio, function (i, result) {
                $.each(result, function (key, value) {
                    console.log(key + '->' + value);

                    $('#' + key).html(setFormat(value, 2) + ' ');

                });
            });

            var asset_now = Number(dataJson.asset.now.jmlh_aset) / 1000000000;
            var asset_last = Number(dataJson.asset.last.jmlh_aset) / 1000000000;
            var asset_past = Number(dataJson.asset.past.jmlh_aset) / 1000000000;
            $('#curr_asset').html(setFormat(asset_now, 2));
            $('#last_asset').html(setFormat(asset_last, 2));
            $('#past_asset').html(setFormat(asset_past, 2));

            var liab_now = Number(dataJson.liability.now.total_liabilitas) / 1000000000;
            var liab_last = Number(dataJson.liability.last.total_liabilitas) / 1000000000;
            var liab_past = Number(dataJson.liability.past.total_liabilitas) / 1000000000;
            $('#curr_liab').html(setFormat(liab_now, 2));
            $('#last_liab').html(setFormat(liab_last, 2));
            $('#past_liab').html(setFormat(liab_past, 2));

            var equ_now = Number(dataJson.equity.now.total) / 1000000000;
            var equ_last = Number(dataJson.equity.last.total) / 1000000000;
            var equ_past = Number(dataJson.equity.past.total) / 1000000000;
            $('#curr_equ').html(setFormat(equ_now, 2));
            $('#last_equ').html(setFormat(equ_last, 2));
            $('#past_equ').html(setFormat(equ_past, 2));
            console.log(liab_last);
            chartDonut('donut1', liab_now, equ_now, ['#FCFDA7', '#E4E960']);
            chartDonut('donut2', liab_last, equ_last, ['#FDA7A7', '#E96060']);

        }

        function nextPage(month, year) {

            sessionStorage.setItem('bln', month);
            sessionStorage.setItem('thn', year);

            window.location.href = "balance_s_dt.html";
        }
        function refresh(html) {
            sessionStorage.removeItem('bs_dt');
            window.location.href = html + ".html";
            // loadData(tahun, '05', '7000');
        }

        function loadData(tahun, bulan, company=null) {


            var nowdate = moment();
            // var checkdate = moment('12-16-2016 14:30');
            // console.log("now :"+nowdate+" last :"+checkdate+" [last update "+checkdate.from(nowdate)+" ]");

            if (sessionStorage.getItem('bln') != null) {
                var data = sessionStorage.getItem('bln');

                // var dataParse = JSON.parse(data);
                console.log(data);
                bulan = parseInt(data);

            }
            if (sessionStorage.getItem('thn') != null) {
                var data = sessionStorage.getItem('thn');

                // var dataParse = JSON.parse(data);
                console.log(data);
                tahun = parseInt(data);

            }
            if (sessionStorage.getItem('com') != null && company == null) {
                var data = sessionStorage.getItem('com');

                // var dataParse = JSON.parse(data);
                company = data;

            }

            console.log(bulan + '-' + tahun + '-' + company);

            var tmp = bulan;
            var bln = parseInt(tmp);
            var tag_bln = bulan - 1;
            var tag_last_bln = bln - 1;
            if (tag_bln == 0) {
                tag_last_bln = 12;
            }

            console.log(bln);
            // setTable(company);
            $('#tag_current_month').html(month[tag_bln]);
            $('#headerSelectedMonth1').html(month[tag_bln] + ' ' + tahun);
            $('#headerSelectedMonth2').html(month[tag_bln] + ' ' + tahun);
            $('#headerSelectedMonth3').html(month[tag_bln] + ' ' + tahun);

            $('#liability').addClass('hidden');
            $('#equity').addClass('hidden');


            run_waitMe('.wrapper', 'ios');

            // console.log(sessionStorage.getItem('bs_dt'));

            // if (sessionStorage.getItem('bs_dt'+bln)==null) {
            $.ajax({
                url: url_src + '/api/index.php/balance_report?tahun=' + tahun + '&bulan=' + bulan + '&company=' + company,
                type: 'GET',
                success: function (data) {
                    // sessionStorage.setItem('bs_dt', 'not null');
                    // sessionStorage.setItem('bs_dt'+bln, data);
                    // sessionStorage.setItem('last_bs_dt', moment().format('MM/DD/YYYY HH:mm'));
                    var dataJson = JSON.parse(data);

                    setDataDetail(dataJson);

                    if (company != 3000) {

                        $('#row3000al').addClass('hidden');

                        $('#row3000sdp').addClass('hidden');

                        $('#row3000sp').addClass('hidden');

                        // $('#asset_now_sp').empty();
                    } else {
                        $('#row3000al').removeClass('hidden');

                        $('#row3000sdp').removeClass('hidden');

                        $('#row3000sp').removeClass('hidden');


                    }


                    // var equity_liability_now_total = (Number(dataJson.total_liability_equity.now))/1000000;
                    // var equity_liability_last_total = (Number(dataJson.total_liability_equity.last))/1000000;

                    // $("#equity_liability_last_total").html(FormatNumberBy3(equity_liability_last_total.toFixed(2)),",", "."+'<font size="3"> </font>');
                    // $("#equity_liability_now_total").html(FormatNumberBy3(equity_liability_now_total.toFixed(2)),",", "."+'<font size="3"> </font>');
                    stop_waitMe('.wrapper');
                }
            }).done(function (data) {
                // console.log('get done'+data);
            }).fail(function () {

            });
            // }else {
            //      var data = sessionStorage.getItem('bs_dt'+bln);
            //      var dataJson = JSON.parse(data);

            //      setDataDetail(dataJson);
            //       stop_waitMe('.wrapper');
            // }

            var datesafe = moment(sessionStorage.getItem('last_bs_dt'));
            $('#last_update').html('last update : ' + datesafe.from(nowdate));


        }

        function setDataDetail(dataJson) {
            console.log(dataJson);

            $.each(dataJson.ratio, function (i, result) {
                $.each(result, function (key, value) {
                    // console.log(key+'->'+value);

                    $('#' + key).html(setFormat(value, 2) + ' %');

                });
            });

            //asset
            $.each(dataJson.asset.now, function (data) {
                var x = (Number(dataJson.asset.now[data])) / 1000000;

                // console.log(data + " " + x);

                $("#asset_last_" + data).html(setFormat(x, 2) + '<font size="3"> </font>')
            });

            $.each(dataJson.asset.last, function (data) {
                var x = (Number(dataJson.asset.last[data])) / 1000000;

                // console.log(data + " " + x);

                $("#asset_now_" + data).html(setFormat(x, 2) + '<font size="3"> </font>')

            });
            //liability
            $.each(dataJson.liability.now, function (data) {
                var x = (Number(dataJson.liability.now[data])) / 1000000;

                // console.log(data + " " + x);

                $("#liability_last_" + data).html(setFormat(x, 2) + '<font size="3"> </font>')
            });

            $.each(dataJson.liability.last, function (data) {
                var x = (Number(dataJson.liability.last[data])) / 1000000;

                // console.log(data + " " + x);

                $("#liability_now_" + data).html(setFormat(x, 2) + '<font size="3"> </font>')
            });
            //equity
            //
            $.each(dataJson.equity.now, function (data) {
                var x = (Number(dataJson.equity.now[data])) / 1000000;

                // console.log(data + " " + x);

                $("#equity_last_" + data).html(setFormat(x, 2) + '<font size="3"> </font>')
            });

            $.each(dataJson.equity.last, function (data) {
                var x = (Number(dataJson.equity.last[data])) / 1000000;

                // console.log(data + " " + x);

                $("#equity_now_" + data).html(setFormat(x, 2) + '<font size="3"> </font>')
            });
            var asset_total = Number(dataJson.asset.now.jmlh_aset) / 1000000;
            var equity_total = Number(dataJson.equity.now.total) / 1000000;
            var liab_total = Number(dataJson.liability.now.total_liabilitas) / 1000000;


            $('#tag_asset_now_total').html(setFormat(asset_total, 2));
            $('#tag_liab_now_total').html(setFormat(liab_total, 2));
            $('#tag_equ_now_total').html(setFormat(equity_total, 2));

            // chartDonut2('donut2', liab_total, equity_total);
        }

        function setTable(opco) {
            var taga = '<table class="table table-striped" style="background: white;"> <thead style="font-weight: bold; font-size: 10px;" class="borblue"> <td>ASSET LANCAR</td> <td align="right" id="last"><div id="headerSelectedMonth1">This Month</div></td> <td align="right" id="now">Last Month</td> </thead> <tfoot> </tfoot> <tbody > <tr > <td>Kas dan setara kas</td> <td class="num"><div id="asset_last_kas"></div></td> <td class="num"><div id="asset_now_kas"></div></td> </tr> <tr> <td>Bank yg dibatasi penggunaannya</td> <td class="num"><div id="asset_last_bank"></div></td> <td class="num"><div id="asset_now_bank"></div></td> </tr> <tr> <td>investasi jangka panjang</td> <td class="num"><div id="asset_last_invest"></div></td> <td class="num"><div id="asset_now_invest"></div></td> </tr> <tr> <td>Persediaan -bersih</td> <td class="num"><div id="asset_last_p_lain"></div></td> <td class="num"><div id="asset_now_p_lain"></div></td> </tr> <tr> <td>piutang lain-lain</td> <td class="num"><div id="asset_last_p_bersih"></div></td> <td class="num"><div id="asset_now_p_bersih"></div></td> </tr> <tr> <td>Aset lancar lainya</td> <td class="num"><div id="asset_last_aset_lain"></div></td> <td class="num"><div id="asset_now_aset_lain"></div></td> </tr> <tr class="borblue"> <td>Pajak dibayar dimuka</td> <td class="num"><div id="asset_last_pdd"></div></td> <td class="num"><div id="asset_now_pdd"></div></td> </tr> <tr class="active"> <td style="font-weight: bold;">Jumlah asset lancar</td> <td align="right" style="color: red;"><div id="asset_last_jal"></div></td> <td align="right" style="color: red;"><div id="asset_now_jal"></div></td> </tr> </tbody> <tbody > <tr><td colspan="4"></td></tr> <tr style="font-weight: bold;" class="borblue"> <td>ASSET TIDAK LANCAR</td> <td align="right"></td> <td align="right"></td> </tr> <tr> <td>Aset pajak tangguhan </td> <td class="num"><div id="asset_last_apt"></div></td> <td class="num"><div id="asset_now_apt"></div></td> </tr> <tr> <td>Investasi pada entitas asosiasi</td> <td class="num"><div id="asset_last_ipea"></div></td> <td class="num"><div id="asset_now_ipea"></div></td> </tr> <tr> <td>Properti Investasi</td> <td class="num"><div id="asset_last_pi"></div></td> <td class="num"><div id="asset_now_pi"></div></td> </tr> <tr> <td>Aset tetap :</td> <td class="num"></td> <td class="num"></td> </tr> <tr> <td>- Tanah</td> <td class="num"><div id="asset_last_tanah"></div></td> <td class="num"><div id="asset_now_tanah"></div></td> </tr> <tr> <td>- Bangunan</td> <td class="num"><div id="asset_last_bangunan"></div></td> <td class="num"><div id="asset_now_bangunan"></div></td> </tr> <tr> <td>- Mesin dan peralatan</td> <td class="num"><div id="asset_last_mesin"></div></td> <td class="num"><div id="asset_now_mesin"></div></td> </tr> <tr> <td>- Alat-alat berat dan kendaraan</td> <td class="num"><div id="asset_last_alat2"></div></td> <td class="num"><div id="asset_now_alat2"></div></td> </tr> <tr> <td>- perlengkapan</td> <td class="num"><div id="asset_last_perl"></div></td> <td class="num"><div id="asset_now_perl"></div></td> </tr> <tr> <td>- Asset Leasing</td> <td class="num"><div id="asset_last_al"></div></td> <td class="num"><div id="asset_now_al"></div></td> </tr> <tr> <td>- Sarana dan Prasarana</td> <td class="num"><div id="asset_last_sdp"></div></td> <td class="num"><div id="asset_now_sdp"></div></td> </tr> <tr> <td>- Security Part</td> <td class="num"><div id="asset_last_sp"></div></td> <td class="num"><div id="asset_now_sp"></div></td> </tr>';
            var tagb = ' <tr> <td>- Akumulasi penyusutan dan deplesi</td> <td class="num"><div id="asset_last_akum"></div></td> <td class="num"><div id="asset_now_akum"></div></td> </tr> <tr> <td></td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_last_total2"></div></td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_now_total2"></div></td> </tr> <tr> <td>- Pekerjaan dalam pelaksanaan</td> <td class="num"><div id="asset_last_pdp"></div></td> <td class="num"><div id="asset_now_pdp"></div></td> </tr> <tr class="active"> <td>Total aset tetap</td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_last_total_at"></div></td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_now_total_at"></div></td> </tr> <tr><td colspan="4"></td></tr> <tr> <td>Uang muka proyek</td> <td class="num"><div id="asset_last_ump"></div></td> <td class="num"><div id="asset_now_ump"></div></td> </tr> <tr> <td>Beban ditangguhkan -bersih</td> <td class="num"><div id="asset_last_btb"></div></td> <td class="num"><div id="asset_now_btb"></div></td> </tr> <tr> <td>Aset tak berwujud</td> <td class="num"><div id="asset_last_atb"></div></td> <td class="num"><div id="asset_now_atb"></div></td> </tr> <tr> <td>Aset tidak lancar lainya</td> <td class="num"><div id="asset_last_atll"></div></td> <td class="num"><div id="asset_now_atll"></div></td> </tr> <tr class="active"> <td>Jumlah aset tidak lancar</td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_last_total_atl"></div></td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_now_total_atl"></div></td> </tr> <tr class="borblue"><td colspan="4"></td></tr> <tr class="active"> <td>Jumlah Aset</td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_last_jmlh_aset"></div></td> <td class="num" style="font-weight: bold; color: red;"><div id="asset_now_jmlh_aset"></div></td> </tr> </tbody> </table>';

            var tag3000 = ' <tr> <td>- Asset Leasing</td> <td class="num"><div id="asset_last_al"></div></td> <td class="num"><div id="asset_now_al"></div></td> </tr> <tr> <td>- Sarana dan Prasarana</td> <td class="num"><div id="asset_last_sdp"></div></td> <td class="num"><div id="asset_now_sdp"></div></td> </tr> <tr> <td>- Security Part</td> <td class="num"><div id="asset_last_sp"></div></td> <td class="num"><div id="asset_now_sp"></div></td> </tr>';

            if (opco == '3000' || opco == 3000) {
                // taga = taga + tag3000;
            }

            $('#tagTable').html(taga + tagb);
        }


        function dataLineChart(year, bulan, opco) {
            // run_waitMe('#line', 'facebook');
            var param = (opco != 'SMI') ? '&company=' + opco : '';
            var bln = Number(bulan) + 1;
            var tahun = moment().format('YYYY');
            var last_date = (year - 1) + '.12';
            // $.post(url_src+'/api/index.php/Project', function(data){
            // if (sessionStorage.getItem('monthly'+bulan)==null) {
            $.post(url_src + '/api/index.php/balance_report/monthly?bulan=' + bulan + '&tahun=' + year + param, function (data) {
                // sessionStorage.setItem('monthly'+bulan, data);
                var dataJson = JSON.parse(data);
                setTagHtmlLineChart(dataJson, last_date);
                console.log(dataJson);
                var tag;

            });

            // }else{

            //   var data = sessionStorage.getItem('monthly'+bulan);
            //   var dataJson  = JSON.parse(data);
            //   setTagHtmlLineChart(dataJson, last_date);


            // }
        }
        function setTagHtmlLineChart(dataJson, last_date) {
            var past = new Array();
            var current = new Array();

            $.each(dataJson, function (i, result) {
                // console.log(last_date+'->'+result[last_date]);


                $.each(result, function (date, value) {
                    // console.log(date+'->'+result[date]);
                    // console.log(date+'->'+result[last_date]);


                    if (date != last_date) {
                        current.push((Number(result[date]) / 1000000));
                        past.push((Number(result[last_date]) / 1000000));
                    }
                })


            })
            // past_data = dataJson[opco][(tahun-1)+'.12'];
            // currData = dataJson[opco];
            // past = [past_data,past_data,past_data,past_data,past_data,past_data,past_data,past_data,past_data,past_data,past_data,past_data];
            // current = [
            //  (currData[tahun+'.01']==null)?0:currData[tahun+'.01'],
            //  (currData[tahun+'.02']==null)?0:currData[tahun+'.02'],
            //  (currData[tahun+'.03']==null)?0:currData[tahun+'.03'],
            //  (currData[tahun+'.04']==null)?0:currData[tahun+'.04'],
            //  (currData[tahun+'.05']==null)?0:currData[tahun+'.05'],
            //  (currData[tahun+'.06']==null)?0:currData[tahun+'.06'],
            //  (currData[tahun+'.07']==null)?0:currData[tahun+'.07'],
            //  (currData[tahun+'.08']==null)?0:currData[tahun+'.08'],
            //  (currData[tahun+'.09']==null)?0:currData[tahun+'.09'],
            //  (currData[tahun+'.10']==null)?0:currData[tahun+'.10'],
            //  (currData[tahun+'.11']==null)?null:currData[tahun+'.11'],
            //  (currData[tahun+'.12']==null)?null:currData[tahun+'.12']
            // ]
            console.log(past);
            console.log(current);
            chartline(past, current);
            // stop_waitMe('#line');
            stop_waitMe('.headsix add_fix');
        }

        function chartline(past_data, monthly) {
            Highcharts.chart('line', {
                title: {
                    text: ''
                },

                xAxis: {
                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                        'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                },
                yAxis: {
                    title: {
                        text: ''
                    },
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#808080'
                    }]
                },
                tooltip: {
                    valueSuffix: ' T'
                },
                legend: {
                    borderWidth: 0,
                    layout: 'horizontal',
                    align: 'center',
                    verticalAlign: 'bottom',
                    x: 0,
                    y: 0,
                    backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
                    //shadow: true
                },
                credits: {
                    enabled: false
                },
                exporting: {
                    enabled: false
                },
                series: [{
                    name: 'Current',
                    data: monthly,
                    color: '#EF4836',
                    type: 'spline'
                }, {
                    name: 'Dec last Year',
                    data: past_data,
                    color: '#E9D460',
                    type: 'spline'
                }]
            });
        }
        function chartDonut(tag, liab, equ, color) {
            Highcharts.chart(tag, {
                chart: {
                    backgroundColor: 'rgba(0, 255, 0, 0)',
                    type: 'pie',
                    margin: [0, 0, 0, 0],
                    options3d: {
                        enabled: true,
                        alpha: 45
                    }
                },
                // colors: ['#FDA7A7', '#E96060'],
                colors: color,
                title: {
                    text: ''
                },
                credits: {
                    enabled: false
                },
                exporting: {
                    enabled: false
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
                        innerSize: 40,
                        depth: 25,
                        showInLegend: true
                    }
                },
                series: [{
                    name: 'Amount',
                    data: [
                        ['liability', liab],
                        ['Equity', equ],
                    ]
                }]
            });
        }
        function chartDonut2(tag, liab, equ) {
            Highcharts.chart(tag, {
                chart: {
                    backgroundColor: 'rgba(0, 255, 0, 0)',
                    type: 'pie',
                    margin: [0, 0, 0, 0],
                    options3d: {
                        enabled: true,
                        alpha: 45
                    }
                },
                colors: ['#EC644B', '#F1A9A0'],
                title: {
                    text: ''
                },
                credits: {
                    enabled: false
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
                        innerSize: 40,
                        depth: 25,
                        showInLegend: true
                    }
                },
                exporting: {
                    enabled: false
                },
                series: [{
                    name: 'Amount',
                    data: [
                        ['Liability', liab],
                        ['Equity', equ],
                    ]
                }]
            });
        }

        function company_balance(bulan) {

            run_waitMe('#table_opco', 'ios');


            $.post(url_src + 'par4digma/api/index.php/balance/company_balance?bulan=' + bulan, function (data) {
                var dataJson = JSON.parse(data);

                var asset_data = dataJson.asset.now;
                var liab_data = dataJson.liability.now;
                var equ_data = dataJson.equity.now;
                console.log(asset_data);
                console.log(liab_data);
                console.log(equ_data);

                $.each(asset_data, function (i, result) {
                    var value = Number(result.jmlh_aset) / 1000000000;
                    console.log(i + '-> ' + value);
                    $('#' + i + '_asset').html(setFormat(value, 2));
                });
                $.each(liab_data, function (i, result) {

                    var value = Number(result.total_liabilitas) / 1000000000;
                    console.log(i + '-> ' + value);

                    $('#' + i + '_liab').html(setFormat(value, 2));
                });
                $.each(equ_data, function (i, result) {

                    var value = Number(result.total) / 1000000000;
                    console.log(i + '-> ' + value);

                    $('#' + i + '_equ').html(setFormat(value, 2));
                });


                console.log(dataJson);


                stop_waitMe('#table_opco');

            });

        }


    </script>

    <script src="slick.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
        $(document).on('ready', function () {
            $('.single-item').slick();
            $('.multiple-items').slick({
                infinite: true,
                slidesToShow: 5,
                slidesToScroll: 5
            });
            $(".regular").slick({ 
                    infinite: true,
                    slidesToShow: 5,
                    slidesToScroll: 5,
                    arrows:false,
                    centerMode: false
                }); 
        });
    </script>
</body>
</html>
